{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/WOWS_Test/trg-crm/components/map/FilterPanel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Filter, X, Check } from \"lucide-react\";\r\n\r\ninterface FilterPanelProps {\r\n    filters: {\r\n        sources: string[];\r\n        statuses: string[];\r\n        ratings: string[];\r\n        sales: string[];\r\n    };\r\n    onFilterChange: (filters: any) => void;\r\n    onClearFilters: () => void;\r\n    sourceList: string[];\r\n    salesList: string[];\r\n    customerCount: number;\r\n}\r\n\r\nconst FilterPanel = ({\r\n    filters,\r\n    onFilterChange,\r\n    onClearFilters,\r\n    sourceList,\r\n    salesList,\r\n    customerCount,\r\n}: FilterPanelProps) => {\r\n    const [expandedSections, setExpandedSections] = useState({\r\n        sources: true,\r\n        statuses: true,\r\n        ratings: true,\r\n        sales: true,\r\n    });\r\n\r\n    const toggleSection = (section: string) => {\r\n        setExpandedSections((prev) => ({\r\n            ...prev,\r\n            [section]: !prev[section as keyof typeof prev],\r\n        }));\r\n    };\r\n\r\n    const handleCheckboxChange = (\r\n        category: string,\r\n        value: string,\r\n        checked: boolean,\r\n    ) => {\r\n        const newFilters = { ...filters };\r\n        const currentValues = newFilters[\r\n            category as keyof typeof newFilters\r\n        ] as string[];\r\n\r\n        if (checked) {\r\n            newFilters[category as keyof typeof newFilters] = [\r\n                ...currentValues,\r\n                value,\r\n            ];\r\n        } else {\r\n            newFilters[category as keyof typeof newFilters] =\r\n                currentValues.filter((v) => v !== value);\r\n        }\r\n\r\n        onFilterChange(newFilters);\r\n    };\r\n\r\n    const hasActiveFilters = Object.values(filters).some(\r\n        (arr) => arr.length > 0,\r\n    );\r\n\r\n    const statusOptions = [\r\n        { value: \"prospect\", label: \"Tiềm năng\", color: \"text-amber-600\" },\r\n        { value: \"customer\", label: \"Khách hàng\", color: \"text-green-600\" },\r\n    ];\r\n\r\n    const ratingOptions = [\r\n        { value: \"⭐\", label: \"1 sao\" },\r\n        { value: \"⭐⭐\", label: \"2 sao\" },\r\n        { value: \"⭐⭐⭐\", label: \"3 sao\" },\r\n        { value: \"⭐⭐⭐⭐\", label: \"4 sao\" },\r\n        { value: \"⭐⭐⭐⭐⭐\", label: \"5 sao\" },\r\n    ];\r\n\r\n    return (\r\n        <div className=\"h-full flex flex-col\">\r\n            {/* Header */}\r\n            <div className=\"p-4 border-b border-gray-200\">\r\n                <div className=\"flex items-center justify-between mb-2\">\r\n                    <h2 className=\"text-lg font-semibold text-gray-900\">\r\n                        Bộ lọc\r\n                    </h2>\r\n                    <Filter className=\"w-5 h-5 text-gray-500\" />\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm text-gray-600\">\r\n                        {customerCount} khách hàng\r\n                    </span>\r\n                    {hasActiveFilters && (\r\n                        <button\r\n                            onClick={onClearFilters}\r\n                            className=\"text-sm text-blue-600 hover:text-blue-800 font-medium\"\r\n                        >\r\n                            Xóa tất cả\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Filter Content */}\r\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n                {/* Source Filter */}\r\n                <div className=\"border border-gray-200 rounded-lg\">\r\n                    <button\r\n                        onClick={() => toggleSection(\"sources\")}\r\n                        className=\"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        <span className=\"font-medium text-gray-900\">\r\n                            Nguồn khách hàng\r\n                        </span>\r\n                        <X\r\n                            className={`w-4 h-4 text-gray-500 transform transition-transform ${\r\n                                expandedSections.sources ? \"rotate-45\" : \"\"\r\n                            }`}\r\n                        />\r\n                    </button>\r\n                    {expandedSections.sources && (\r\n                        <div className=\"px-3 pb-3 space-y-2\">\r\n                            {sourceList.map((source) => (\r\n                                <label\r\n                                    key={source}\r\n                                    className=\"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded\"\r\n                                >\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={filters.sources.includes(\r\n                                            source,\r\n                                        )}\r\n                                        onChange={(e) =>\r\n                                            handleCheckboxChange(\r\n                                                \"sources\",\r\n                                                source,\r\n                                                e.target.checked,\r\n                                            )\r\n                                        }\r\n                                        className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-700\">\r\n                                        {source}\r\n                                    </span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Status Filter */}\r\n                <div className=\"border border-gray-200 rounded-lg\">\r\n                    <button\r\n                        onClick={() => toggleSection(\"statuses\")}\r\n                        className=\"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        <span className=\"font-medium text-gray-900\">\r\n                            Trạng thái\r\n                        </span>\r\n                        <X\r\n                            className={`w-4 h-4 text-gray-500 transform transition-transform ${\r\n                                expandedSections.statuses ? \"rotate-45\" : \"\"\r\n                            }`}\r\n                        />\r\n                    </button>\r\n                    {expandedSections.statuses && (\r\n                        <div className=\"px-3 pb-3 space-y-2\">\r\n                            {statusOptions.map((status) => (\r\n                                <label\r\n                                    key={status.value}\r\n                                    className=\"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded\"\r\n                                >\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={filters.statuses.includes(\r\n                                            status.value,\r\n                                        )}\r\n                                        onChange={(e) =>\r\n                                            handleCheckboxChange(\r\n                                                \"statuses\",\r\n                                                status.value,\r\n                                                e.target.checked,\r\n                                            )\r\n                                        }\r\n                                        className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                    />\r\n                                    <span className={`text-sm ${status.color}`}>\r\n                                        {status.label}\r\n                                    </span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Rating Filter */}\r\n                <div className=\"border border-gray-200 rounded-lg\">\r\n                    <button\r\n                        onClick={() => toggleSection(\"ratings\")}\r\n                        className=\"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        <span className=\"font-medium text-gray-900\">\r\n                            Đánh giá tiềm năng\r\n                        </span>\r\n                        <X\r\n                            className={`w-4 h-4 text-gray-500 transform transition-transform ${\r\n                                expandedSections.ratings ? \"rotate-45\" : \"\"\r\n                            }`}\r\n                        />\r\n                    </button>\r\n                    {expandedSections.ratings && (\r\n                        <div className=\"px-3 pb-3 space-y-2\">\r\n                            {ratingOptions.map((rating) => (\r\n                                <label\r\n                                    key={rating.value}\r\n                                    className=\"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded\"\r\n                                >\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={filters.ratings.includes(\r\n                                            rating.value,\r\n                                        )}\r\n                                        onChange={(e) =>\r\n                                            handleCheckboxChange(\r\n                                                \"ratings\",\r\n                                                rating.value,\r\n                                                e.target.checked,\r\n                                            )\r\n                                        }\r\n                                        className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-700\">\r\n                                        {rating.label}\r\n                                    </span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {/* Sales Filter */}\r\n                <div className=\"border border-gray-200 rounded-lg\">\r\n                    <button\r\n                        onClick={() => toggleSection(\"sales\")}\r\n                        className=\"w-full px-3 py-2 flex items-center justify-between hover:bg-gray-50 transition-colors\"\r\n                    >\r\n                        <span className=\"font-medium text-gray-900\">\r\n                            Sales phụ trách\r\n                        </span>\r\n                        <X\r\n                            className={`w-4 h-4 text-gray-500 transform transition-transform ${\r\n                                expandedSections.sales ? \"rotate-45\" : \"\"\r\n                            }`}\r\n                        />\r\n                    </button>\r\n                    {expandedSections.sales && (\r\n                        <div className=\"px-3 pb-3 space-y-2\">\r\n                            {salesList.map((sales) => (\r\n                                <label\r\n                                    key={sales}\r\n                                    className=\"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded\"\r\n                                >\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        checked={filters.sales.includes(\r\n                                            sales || \"\",\r\n                                        )}\r\n                                        onChange={(e) =>\r\n                                            handleCheckboxChange(\r\n                                                \"sales\",\r\n                                                sales || \"\",\r\n                                                e.target.checked,\r\n                                            )\r\n                                        }\r\n                                        className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                    />\r\n                                    <span className=\"text-sm text-gray-700\">\r\n                                        {sales || \"Chưa phân công\"}\r\n                                    </span>\r\n                                </label>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            {hasActiveFilters && (\r\n                <div className=\"p-4 border-t border-gray-200\">\r\n                    <div className=\"text-xs text-gray-500 mb-2\">\r\n                        Đang lọc:{\" \"}\r\n                        {\r\n                            Object.values(filters).filter(\r\n                                (arr) => arr.length > 0,\r\n                            ).length\r\n                        }{\" \"}\r\n                        bộ lọc\r\n                    </div>\r\n                    <button\r\n                        onClick={onClearFilters}\r\n                        className=\"w-full px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium\"\r\n                    >\r\n                        Xóa tất cả bộ lọc\r\n                    </button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilterPanel;\r\n"],"names":[],"mappings":"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"}}]
}