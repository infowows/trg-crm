{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport type { NextRequest } from \"next/server\";\r\n\r\n// Public routes that don't require authentication\r\nconst publicRoutes = [\r\n    \"/login\",\r\n    \"/api/auth/login\",\r\n    \"/api/seed\",\r\n    \"/api/create-admin\",\r\n    \"/api/stats\",\r\n    \"/api/employees\",\r\n    \"/api/customers\",\r\n    \"/api/quotations\",\r\n    \"/api/services\",\r\n    \"/api/positions\",\r\n    \"/api/customer-classifications\",\r\n    \"/api/customer-care\",\r\n    \"/api/material-groups\",\r\n    \"/api/service-pricing\",\r\n    \"/api/care-types\",\r\n    \"/api/service-packages\",\r\n    \"/api/category-items\",\r\n    \"/api/source-settings\",\r\n];\r\n\r\nexport function middleware(request: NextRequest) {\r\n    const { pathname } = request.nextUrl;\r\n\r\n    // Allow public routes\r\n    if (publicRoutes.some((route) => pathname.startsWith(route))) {\r\n        return NextResponse.next();\r\n    }\r\n\r\n    // Check for authentication token\r\n    const token = request.cookies.get(\"token\")?.value;\r\n\r\n    if (!token) {\r\n        // Redirect to login if no token\r\n        const loginUrl = new URL(\"/login\", request.url);\r\n        loginUrl.searchParams.set(\"returnUrl\", pathname);\r\n        return NextResponse.redirect(loginUrl);\r\n    }\r\n\r\n    // Allow access to protected routes\r\n    return NextResponse.next();\r\n}\r\n\r\nexport const config = {\r\n    matcher: [\r\n        /*\r\n         * Match all request paths except for the ones starting with:\r\n         * - _next/static (static files)\r\n         * - _next/image (image optimization files)\r\n         * - favicon.ico (favicon file)\r\n         * - public folder\r\n         */\r\n        \"/((?!_next/static|_next/image|favicon.ico|public).*)\",\r\n    ],\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGA,kDAAkD;AAClD,MAAM,eAAe;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAEM,SAAS,WAAW,OAAoB;IAC3C,MAAM,EAAE,QAAQ,EAAE,GAAG,QAAQ,OAAO;IAEpC,sBAAsB;IACtB,IAAI,aAAa,IAAI,CAAC,CAAC,QAAU,SAAS,UAAU,CAAC,SAAS;QAC1D,OAAO,gMAAY,CAAC,IAAI;IAC5B;IAEA,iCAAiC;IACjC,MAAM,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,UAAU;IAE5C,IAAI,CAAC,OAAO;QACR,gCAAgC;QAChC,MAAM,WAAW,IAAI,IAAI,UAAU,QAAQ,GAAG;QAC9C,SAAS,YAAY,CAAC,GAAG,CAAC,aAAa;QACvC,OAAO,gMAAY,CAAC,QAAQ,CAAC;IACjC;IAEA,mCAAmC;IACnC,OAAO,gMAAY,CAAC,IAAI;AAC5B;AAEO,MAAM,SAAS;IAClB,SAAS;QACL;;;;;;SAMC,GACD;KACH;AACL"}}]
}